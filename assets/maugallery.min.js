!function(a){a.fn.mauGallery=function(e){var t=a.extend({},a.fn.mauGallery.defaults,e),l=[];return this.each((function(){var e=a(this);a.fn.mauGallery.methods.createRowWrapper(e),t.lightBox&&a.fn.mauGallery.methods.createLightBox(e,t.lightboxId,t.navigation),a.fn.mauGallery.listeners(t),e.children(".gallery-item").each((function(){var e=a(this);a.fn.mauGallery.methods.responsiveImageItem(e),a.fn.mauGallery.methods.moveItemInRowWrapper(e),a.fn.mauGallery.methods.wrapItemInColumn(e,t.columns);var i=e.data("gallery-tag");t.showTags&&void 0!==i&&-1===l.indexOf(i)&&l.push(i)})),t.showTags&&a.fn.mauGallery.methods.showItemTags(e,t.tagsPosition,l),e.fadeIn(500)}))},a.fn.mauGallery.defaults={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0},a.fn.mauGallery.listeners=function(e){a(document).on("click",".gallery-item",(function(){e.lightBox&&a(this).is("img")&&a.fn.mauGallery.methods.openLightBox(a(this),e.lightboxId)})),a(document).on("click",".nav-link",(function(){a(".nav-link").removeClass("active"),a(this).addClass("active"),a.fn.mauGallery.methods.filterByTag.call(this)})),a(document).on("click",".mg-prev",(()=>a.fn.mauGallery.methods.prevImage(e.lightboxId))),a(document).on("click",".mg-next",(()=>a.fn.mauGallery.methods.nextImage(e.lightboxId)))},a.fn.mauGallery.methods={createRowWrapper(a){a.children().first().hasClass("row")||a.append('<div class="gallery-items-row row"></div>')},wrapItemInColumn(e,t){var l="";"number"==typeof t?l=`col-${Math.ceil(12/t)}`:"object"==typeof t?a.each(t,(function(a,e){l+=` col-${a}-${Math.ceil(12/e)}`})):console.error(`Columns should be a number or object. ${typeof t} is not supported.`),e.wrap(`<div class='item-column mb-4 ${l}'></div>`)},moveItemInRowWrapper(a){a.appendTo(".gallery-items-row")},responsiveImageItem(a){a.is("img")&&a.addClass("img-fluid")},openLightBox(e,t){a(`#${t}`).find(".lightboxImage").attr("src",e.attr("src")),a(`#${t}`).modal("toggle")},prevImage(e){let t=a(`#${e} .lightboxImage`).attr("src"),l=this.getImagesCollection(),i=l.findIndex((a=>a.attr("src")===t)),s=i>0?i-1:l.length-1;a(`#${e} .lightboxImage`).attr("src",l[s].attr("src"))},nextImage(e){let t=a(`#${e} .lightboxImage`).attr("src"),l=this.getImagesCollection(),i=l.findIndex((a=>a.attr("src")===t)),s=i<l.length-1?i+1:0;a(`#${e} .lightboxImage`).attr("src",l[s].attr("src"))},getImagesCollection(){let e=a(".tags-bar span.active-tag").data("images-toggle"),t=[];return a(".item-column").each((function(){let l=a(this).children("img");"all"!==e&&l.data("gallery-tag")!==e||t.push(l)})),t},createLightBox(a,e,t){a.append(`<div class="modal fade" id="${e||"galleryLightbox"}" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog" role="document">\n          <div class="modal-content">\n            <div class="modal-body">\n              ${t?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':'<span style="display:none;"></span>'}\n              <img class="lightboxImage img-fluid" alt="Contenu de l'image affichÃ©e dans la modale au clic"/>\n              ${t?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;">></div>':'<span style="display:none;"></span>'}\n            </div>\n          </div>\n        </div>\n      </div>`)},showItemTags(e,t,l){var i='<li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>';a.each(l,(function(a,e){i+=`<li class="nav-item"><span class="nav-link" data-images-toggle="${e}">${e}</span></li>`}));var s=`<ul class="my-4 tags-bar nav nav-pills">${i}</ul>`;e["bottom"===t?"append":"prepend"](s)},filterByTag(){if(!a(this).hasClass("active-tag")){a(".active-tag").removeClass("active active-tag"),a(this).addClass("active-tag");var e=a(this).data("images-toggle");a(".gallery-item").each((function(){var t=a(this).parents(".item-column");"all"===e||a(this).data("gallery-tag")===e?t.show(300):t.hide()}))}}}}(jQuery);